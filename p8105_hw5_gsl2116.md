P8105 Homework 5
================
Grace Liu
11/8/2018

Problem 1
---------

``` r
participant_data %>% 
  group_by(arm, study_id) %>% 
  ggplot(aes(x = week, y = observation, type = study_id, color = arm)) + 
    geom_line() +
  theme_minimal() +
    theme(legend.position = "bottom") +
    labs(x = "Week", y = "Observations", 
         title = "Observations for each subject, by week and study arm")
```

<img src="p8105_hw5_gsl2116_files/figure-markdown_github/study line graph-1.png" style="display: block; margin: auto;" />

The figure above details the observations of 20 study participants over eight weeks. Half the participants were assigned to the control arm, and the other half were assigned to the experimental arm. Early in the study, there was not much difference between the two study arms. However, as the weeks passed, the observations for all individuals in the experimental arm increased, even as no appreciable change was seen in participants in the control arm.

Problem 2
---------

This dataset contains details on 52,178 homicides occurring across 50 major US cities between 2007-01-01 and 2017-12-31.

The city with the highest number of total homicides was Chicago, IL, where there were a total of 5535 homicides over the decade. The city with the lowest number of total homicides was Tampa, FL, where there were a total of 208 homicides over the decade.

For the city of Baltimore, MD, use the prop.test function to estimate the proportion of homicides that are unsolved; save the output of prop.test as an R object, apply the broom::tidy to this object and pull the estimated proportion and confidence intervals from the resulting tidy dataframe.

Now run prop.test for each of the cities in your dataset, and extract both the proportion of unsolved homicides and the confidence interval for each. Do this within a “tidy” pipeline, making use of purrr::map, purrr::map2, list columns and unnest as necessary to create a tidy dataframe with estimated proportions and CIs for each city.

Create a plot that shows the estimates and CIs for each city – check out geom\_errorbar for a way to add error bars based on the upper and lower limits. Organize cities according to the proportion of unsolved homicides.
